import React,{useState}from'react';import PromptForm from'./components/PromptForm';import AudioPlayer from'./components/AudioPlayer';export default function App(){const[audioUrl,setAudioUrl]=useState(null);const[loading,setLoading]=useState(false);const[interpretation,setInterpretation]=useState(null);async function handleGenerate(prompt){setLoading(true);setAudioUrl(null);setInterpretation(null);try{const resp=await fetch('/api/generate',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt})});if(!resp.ok)throw new Error('Erro');const data=await resp.json();setAudioUrl(data.audioUrl);setInterpretation(data.interpretation||null);}catch(err){alert('Erro ao gerar música');}finally{setLoading(false);}}return(<div className='min-h-screen flex items-center justify-center app-bg p-6'><div className='max-w-3xl w-full'><header className='mb-6 text-center'><h1 className='text-3xl font-semibold'>Creative Place — Music Maker</h1><p className='mt-2 text-sm text-gray-600'>Gere instrumentais a partir de prompts descritivos.</p></header><div className='card p-6'><PromptForm onGenerate={handleGenerate} loading={loading}/>{interpretation&&<div className='mt-4 p-4 bg-gray-50 rounded'><strong>Interpretação:</strong><pre className='text-sm mt-2 whitespace-pre-wrap'>{interpretation}</pre></div>}<div className='mt-6'><AudioPlayer src={audioUrl} loading={loading}/></div></div></div></div>);}